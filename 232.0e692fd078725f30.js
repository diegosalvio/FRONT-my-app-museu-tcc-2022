"use strict";(self.webpackChunkapp_museu=self.webpackChunkapp_museu||[]).push([[232],{1232:(le,F,a)=>{a.r(F),a.d(F,{HomeModule:()=>se});var h=a(6895),_=a(4144),U=a(4859),P=a(782),u=a(9549),y=a(3546),p=a(3060),e=a(4650);let L=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-home"]],decls:1,vars:0,template:function(n,r){1&n&&e._UZ(0,"router-outlet")},dependencies:[p.lC]}),t})();var o=a(4006),v=a(2340),k=a(8505),w=a(529),q=a(7364);const J=v.N.URL_BASE;let M=(()=>{class t{constructor(n,r){this.http=n,this.userService=r,this.hide=!0}postLogin(n){return this.http.post(`${J}/person/login`,n,{observe:"response"}).pipe((0,k.b)(s=>{const l=s.headers.get("x-access-token")??"";this.token=l,this.userService.savUserToken(l)}))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(w.eN),e.LFG(q.K))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const O=v.N.URL_BASE;let Y=(()=>{class t{constructor(n,r){this.httpClient=n,this.userService=r}auth(n){return this.httpClient.post(`${O}/person/login`,n,{observe:"response"}).pipe((0,k.b)(r=>{const s=r.headers.get("x-access-token")??"";this.userService.savUserToken(s)}))}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(w.eN),e.LFG(q.K))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var Z=a(7009),b=a(7392),N=a(4850);function Q(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Campo obrigat\xf3rio"),e.qZA())}function B(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"e-mail inv\xe1lido"),e.qZA())}function E(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Campo obrigat\xf3rio"),e.qZA())}const H=function(){return["signup"]};let R=(()=>{class t{constructor(n,r,s,l,m){this.formBuilder=n,this.loginService=r,this.authService=s,this.router=l,this.snackBar=m,this.hidePwd=!0}ngOnInit(){this.signinForm=this.formBuilder.group({email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required]]})}openSnackBar(n,r){this.snackBar.open(n,r)}login(){const n=this.signinForm.getRawValue();this.loginService.postLogin(n).subscribe({complete:()=>{console.log("Usu\xe1rio Logado"),this.router.navigate(["menu"])},error:r=>{this.openSnackBar(r.error.message,"x")}})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(M),e.Y36(Y),e.Y36(p.F0),e.Y36(Z.ux))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-login"]],decls:27,vars:10,consts:[[1,"content-wrapper"],[1,"div-img"],["src","http://museudoipiranga2022.org.br/wp-content/uploads/sites/377/elementor/thumbs/20210914_logo_museu_ipiranga-pd4e3eddzueg8x3fiybwdr3wwq26573z5ns9lhh1e6.jpg","alt","logo do museu do Ipiranga",1,"img-login"],[1,"form-login",3,"formGroup"],["appearance","outline",1,"form-field-email"],["matInput","","formControlName","email",1,"input-email"],[4,"ngIf"],["appearance","outline",1,"form-field-pwd"],["matInput","","formControlName","password",1,"input-pwd",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],[1,"form-button"],["mat-raised-button","","color","primary",1,"button-login",3,"click"],["type","button","mat-flat-button","",1,"button-pwd"],["type","button","mat-raised-button","",1,"button-register",3,"routerLink"],[1,"div-button"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA(),e.TgZ(3,"form",3)(4,"mat-form-field",4)(5,"mat-label"),e._uU(6," E-mail "),e.qZA(),e._UZ(7,"input",5),e.YNc(8,Q,2,0,"mat-error",6),e.YNc(9,B,2,0,"mat-error",6),e.qZA(),e.TgZ(10,"mat-form-field",7)(11,"mat-label"),e._uU(12," Senha "),e.qZA(),e._UZ(13,"input",8),e.YNc(14,E,2,0,"mat-error",6),e.TgZ(15,"button",9),e.NdJ("click",function(){return r.hidePwd=!r.hidePwd}),e.TgZ(16,"mat-icon"),e._uU(17),e.qZA()()(),e.TgZ(18,"div",10)(19,"button",11),e.NdJ("click",function(){return r.login()}),e._uU(20,"Login"),e.qZA()(),e.TgZ(21,"button",12),e._uU(22,"Esqueceu a senha?"),e.qZA(),e._UZ(23,"mat-divider"),e.TgZ(24,"button",13),e._uU(25,"Criar nova conta"),e.qZA()(),e._UZ(26,"div",14),e.qZA()),2&n){let s,l,m;e.xp6(3),e.Q6J("formGroup",r.signinForm),e.xp6(5),e.Q6J("ngIf",null==(s=r.signinForm.get("email"))||null==s.errors?null:s.errors.required),e.xp6(1),e.Q6J("ngIf",null==(l=r.signinForm.get("email"))||null==l.errors?null:l.errors.email),e.xp6(4),e.Q6J("type",r.hidePwd?"password":"text"),e.xp6(1),e.Q6J("ngIf",null==(m=r.signinForm.get("password"))||null==m.errors?null:m.errors.required),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",r.hidePwd),e.xp6(2),e.Oqu(r.hidePwd?"visibility_off":"visibility"),e.xp6(7),e.Q6J("routerLink",e.DdM(9,H))}},dependencies:[u.TO,u.KE,u.hX,u.R9,h.O5,p.rH,_.Nt,U.lW,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,b.Hw,N.d],styles:[".content-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100vw}.div-img[_ngcontent-%COMP%]{position:absolute;margin-top:30%;left:42%}@media (max-width: 767px){.div-img[_ngcontent-%COMP%]{margin-top:15%;left:30%;top:0}}.form-login[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;bottom:50%;transform:translate(-50%,-50%)}.form-field-email[_ngcontent-%COMP%], .button-login[_ngcontent-%COMP%], .form-field-pwd[_ngcontent-%COMP%]{width:100%}.div-button[_ngcontent-%COMP%]{position:absolute;width:100%;bottom:8vw}@media (max-width: 767px){.div-button[_ngcontent-%COMP%]{bottom:-30vw}}mat-divider[_ngcontent-%COMP%]{margin-bottom:24px}.button-pwd[_ngcontent-%COMP%]{margin-top:18px;width:100%}.button-register[_ngcontent-%COMP%]{width:100%;background-color:#3cb371}"]}),t})();const z=v.N.URL_BASE;let D=(()=>{class t{constructor(n){this.http=n}addNewUser(n){return this.http.post(`${z}/person/register`,n)}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(w.eN))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var g=a(9602),x=a(1094);function G(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Campo obrigat\xf3rio"),e.qZA())}function X(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Nome inv\xe1lido"),e.qZA())}function j(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Selecione uma data"),e.qZA())}function K(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Campo obrigat\xf3rio"),e.qZA())}function W(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Telefone inv\xe1lido"),e.qZA())}function $(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Campo obrigat\xf3rio"),e.qZA())}function V(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"e-mail inv\xe1lido"),e.qZA())}function ee(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"Campo obrigat\xf3rio"),e.qZA())}function te(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1," Senha inv\xe1lida"),e.qZA())}function re(t,i){1&t&&(e.TgZ(0,"mat-error"),e._uU(1,"As senhas precisam ser iguais"),e.qZA())}const ne=function(){return[""]},oe=[{path:"",component:L,children:[{path:"",component:R},{path:"signup",component:(()=>{class t{constructor(n,r,s,l){this.formBuilder=n,this.newUserService=r,this.snackBar=s,this.route=l,this.hidePwd=!0}ngOnInit(){this.newUserForm=this.formBuilder.group({name:["",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(20),o.kI.pattern("^[a-zA-Z_ ]*$")]],birthDate:["",[o.kI.required]],phone:["",[o.kI.required,o.kI.minLength(11),o.kI.maxLength(11),o.kI.pattern("^[0-9]*$")]],email:["",[o.kI.required,o.kI.email]],password:["",[o.kI.required,o.kI.minLength(6),o.kI.maxLength(20)]],confirmPassword:["",[o.kI.required,o.kI.minLength(6),o.kI.maxLength(20)]]})}openSnackBar(n,r){this.snackBar.open(n,r)}signUp(){if(this.newUserForm.get("password")?.value!==this.newUserForm.get("confirmPassword")?.value&&(this.newUserForm.get("password")?.setValue(""),this.newUserForm.get("confirmPassword")?.setValue(""),this.openSnackBar("As senhas est\xe3o diferentes","X")),this.newUserForm.valid){const n=this.newUserForm.getRawValue();this.newUserService.addNewUser(n).subscribe({complete:()=>{console.log("Usu\xe1rio Cadastrado"),this.route.navigate([""])},error:r=>{console.log("ERROR ADD NEW USER: ",r)}})}}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(o.qu),e.Y36(D),e.Y36(Z.ux),e.Y36(p.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-sign-up"]],decls:53,vars:23,consts:[[1,"content-wrapper"],[3,"formGroup","submit"],[1,"register-div"],[1,"title-label"],["appearance","outline"],["matInput","","formControlName","name",1,"input-name"],[4,"ngIf"],["matInput","","formControlName","birthDate","readonly","",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["matInput","","formControlName","phone","mask","(00) 0 0000-0000"],["matInput","","formControlName","email"],["matInput","","formControlName","password",3,"type"],["mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","confirmPassword",3,"type"],["mat-raised-button","","color","primary",1,"register-button"],[3,"routerLink"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("submit",function(){return r.signUp()}),e.TgZ(2,"div",2)(3,"mat-label",3),e._uU(4,"Registre-se!"),e.qZA(),e.TgZ(5,"mat-form-field",4)(6,"mat-label"),e._uU(7,"Nome"),e.qZA(),e._UZ(8,"input",5),e.YNc(9,G,2,0,"mat-error",6),e.YNc(10,X,2,0,"mat-error",6),e.qZA(),e.TgZ(11,"mat-form-field",4)(12,"mat-label"),e._uU(13,"Data de nascimento"),e.qZA(),e._UZ(14,"input",7),e.YNc(15,j,2,0,"mat-error",6),e._UZ(16,"mat-datepicker-toggle",8)(17,"mat-datepicker",null,9),e.qZA(),e.TgZ(19,"mat-form-field",4)(20,"mat-label"),e._uU(21,"Telefone"),e.qZA(),e._UZ(22,"input",10),e.YNc(23,K,2,0,"mat-error",6),e.YNc(24,W,2,0,"mat-error",6),e.qZA(),e.TgZ(25,"mat-form-field",4)(26,"mat-label"),e._uU(27,"E-mail"),e.qZA(),e._UZ(28,"input",11),e.YNc(29,$,2,0,"mat-error",6),e.YNc(30,V,2,0,"mat-error",6),e.qZA(),e.TgZ(31,"mat-form-field",4)(32,"mat-label"),e._uU(33,"Senha"),e.qZA(),e._UZ(34,"input",12),e.TgZ(35,"button",13),e.NdJ("click",function(){return r.hidePwd=!r.hidePwd}),e.TgZ(36,"mat-icon"),e._uU(37),e.qZA()(),e.YNc(38,ee,2,0,"mat-error",6),e.YNc(39,te,2,0,"mat-error",6),e.qZA(),e.TgZ(40,"mat-form-field",4)(41,"mat-label"),e._uU(42,"Confirmar senha"),e.qZA(),e._UZ(43,"input",14),e.TgZ(44,"button",13),e.NdJ("click",function(){return r.hidePwd=!r.hidePwd}),e.TgZ(45,"mat-icon"),e._uU(46),e.qZA()(),e.YNc(47,re,2,0,"mat-error",6),e.qZA(),e.TgZ(48,"button",15),e._uU(49,"Cadastrar"),e.qZA(),e._UZ(50,"br"),e.TgZ(51,"a",16),e._uU(52,"J\xe1 se cadastrou? Clique aqui!"),e.qZA()()()()),2&n){const s=e.MAs(18);let l,m,C,T,d,A,I,S,c,f;e.xp6(1),e.Q6J("formGroup",r.newUserForm),e.xp6(8),e.Q6J("ngIf",null==(l=r.newUserForm.get("name"))||null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",(null==(m=r.newUserForm.get("name"))?null:m.errors)&&(null==(m=r.newUserForm.get("name"))||null==m.errors?null:m.errors.required)),e.xp6(4),e.Q6J("matDatepicker",s),e.xp6(1),e.Q6J("ngIf",null==(C=r.newUserForm.get("birthDate"))||null==C.errors?null:C.errors.required),e.xp6(1),e.Q6J("for",s),e.xp6(7),e.Q6J("ngIf",null==(T=r.newUserForm.get("phone"))||null==T.errors?null:T.errors.required),e.xp6(1),e.Q6J("ngIf",(null==(d=r.newUserForm.get("phone"))?null:d.errors)&&!(null!=(d=r.newUserForm.get("phone"))&&null!=d.errors&&d.errors.required)),e.xp6(5),e.Q6J("ngIf",null==(A=r.newUserForm.get("email"))||null==A.errors?null:A.errors.required),e.xp6(1),e.Q6J("ngIf",null==(I=r.newUserForm.get("email"))||null==I.errors?null:I.errors.email),e.xp6(4),e.Q6J("type",r.hidePwd?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",r.hidePwd),e.xp6(2),e.Oqu(r.hidePwd?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",null==(S=r.newUserForm.get("password"))||null==S.errors?null:S.errors.required),e.xp6(1),e.Q6J("ngIf",(null==(c=r.newUserForm.get("password"))?null:c.errors)&&!(null!=(c=r.newUserForm.get("password"))&&null!=c.errors&&c.errors.required)),e.xp6(4),e.Q6J("type",r.hidePwd?"password":"text"),e.xp6(1),e.uIk("aria-label","Hide password")("aria-pressed",r.hidePwd),e.xp6(2),e.Oqu(r.hidePwd?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",(null==(f=r.newUserForm.get("password"))?null:f.value)!==(null==(f=r.newUserForm.get("confirmPassword"))?null:f.value)),e.xp6(4),e.Q6J("routerLink",e.DdM(22,ne))}},dependencies:[u.TO,u.KE,u.hX,u.R9,h.O5,p.yS,_.Nt,U.lW,o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,b.Hw,g.Mq,g.hl,g.nW,x.hx],styles:[".content-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:100%}.register-div[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}mat-form-field[_ngcontent-%COMP%]{width:195px;-ms-box-sizing:content-box;box-sizing:content-box;-webkit-box-sizing:content-box}.title-label[_ngcontent-%COMP%]{position:absolute;font-family:Roboto;top:-7%;font-size:22px;color:#3f51b5}.register-button[_ngcontent-%COMP%]{width:100%}a[_ngcontent-%COMP%]{padding-top:13px;font-size:12px}"]}),t})()}]}];let ie=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[p.Bz.forChild(oe),p.Bz]}),t})();var ae=a(3238);let se=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({providers:[g.FA],imports:[u.lN,h.ez,ie,_.c,U.ot,P.N6,o.UX,y.QW,b.Ps,N.t,g.FA,ae.XK,x.yI.forRoot(),Z.ZX]}),t})()}}]);